<head>
    <style>
      /* Add some styling to make the chat UI look like WhatsApp */
      .chat-container {
        display: flex;
        flex-direction: column;
        height: 80%;
        width: 100%;
      }
      
      .message-container {
        display: flex;
        flex-direction: column;
        overflow-y: scroll;
        height: 90%;
      }
      
      .message {
        display: flex;
        padding: 10px;
        margin: 10px;
        background-color: #f2f2f2;
        border-radius: 10px;
        align-self: flex-start;
        max-width: 80%;
      }
      
      .sender {
        font-weight: bold;
        margin-right: 10px;
      }
      
      .input-container {
        display: flex;
        align-items: center;
        background-color: #f2f2f2;
        height: 10%;
        padding: 10px;
        border-top: 1px solid #ccc;
      }
      
      .input-field {
        width: 80%;
        height: 100%;
        border: none;
        padding: 10px;
        border-radius: 10px;
        outline: none;
      }
      
      .send-button {
        width: 20%;
        height: 100%;
        background-color: #4CAF50;
        color: white;
        border: none;
        border-radius: 10px;
        outline: none;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div class="chat-container">
      <div class="message-container">
        <div class="message">
          <span class="sender">User 1:</span>
          Hi, how are you?
        </div>
        <div class="message">
          <span class="sender">User 2:</span>
          I'm good, thank you! How about you?
        </div>
      </div>
      <div class="input-container">
        <input type="text" class="input-field">
        <button class="send-button">Send</button>
      </div>
    </div>
  </body>


  const [inputValue, setInputValue] = useState("");
  const [messages, setMessages] = useState({ sender: [], recipient: [] });

  const sendNewMessage = (message: string) => {
    const payload = {
      message,
      timestamp: new Date().getTime(),
      chatWithUserId,
    };
    socket.emit("private message", payload);
    setMessages((old) => {
      old.sender.push(payload);
      return { ...old };
    });
  };

  useEffect(() => {
    socket.on("private message", (payload) => {
      console.log("received message", payload);
      setMessages((old) => {
        old.recipient.push(payload);
        return { ...old };
      });
    });
  }, []);


  return () => {
    socket.disconnect();
  };
}, [messages]);

<div
      style={{
        ...styles.message,
        ...(isUser ? styles.right : styles.left),
      }}
    >